$(document).ready(function a(){function b(a){$("#ESHomePage section.banner .nav__slide--"+o).removeClass("nav-active"),$("#ESHomePage section.banner .nav__slide--"+a).addClass("nav-active")}function c(){p=!1}function d(a){p=!0,q=0,j.addClass("animation"),j.css({transform:"translate3d(-"+100*(o-a)+"%, 0, 0)"}),j.find("#ESHomePage section.banner .slide__darkbg").css({transform:"translate3d("+50*(o-a)+"%, 0, 0)"}),j.find("#ESHomePage section.banner .slide__letter").css({transform:"translate3d(0, 0, 0)"}),j.find("#ESHomePage section.banner .slide__text").css({transform:"translate3d(0, 0, 0)"})}function f(){o>=s||(d(0),setTimeout(c,m),b(o+1),o++)}function g(){1>=o||(d(2),setTimeout(c,m),b(o-1),o--)}function h(){d(1),setTimeout(c,m)}if(!document.querySelector("#ESHomePage section.banner"))return void setTimeout(a,500);const i=$("#ESHomePage section.banner .cont"),j=$("#ESHomePage section.banner .slider"),k=$("#ESHomePage section.banner .nav"),l=$(window).width(),m=750,n=.2*l;let o=1,p=!1,q=0,r=["Amsterdam","Rome","New\u2014York"],s=r.length,t=[];r.map(a=>{let b=a.length,c=Math.floor(b/4),d=new RegExp(".{1,"+c+"}","g");t.push(a.match(d))});let u=function(a){let b=$(document.createDocumentFragment()),c=$(document.createDocumentFragment());const d=r.indexOf(r[a])+1,e=t[a][0].charAt(0),f=$("<div data-target=\""+d+"\" class=\"slide slide--"+d+"\"><div class=\"slide__darkbg slide--"+d+"__darkbg\"></div><div class=\"slide__text-wrapper slide--"+d+"__text-wrapper\"></div></div>"),g=$("<div class=\"slide__letter slide--"+d+"__letter\">"+e+"</div>");for(let c=0,d=t[a].length;c<d;c++){const d=$("<div class=\"slide__text slide__text--"+(c+1)+"\">"+t[a][c]+"</div>");b.append(d)}const h=$("<li data-target=\""+d+"\" class=\"nav__slide nav__slide--"+d+"\"></li>");c.append(h),k.append(c),f.find(".slide--"+d+"__text-wrapper").append(g).append(b),j.append(f),4>=r[a].length&&$("#ESHomePage section.banner .slide--"+d).find(".slide__text").css("font-size","12vw")};for(let a=0;a<s;a++)u(a);$("#ESHomePage section.banner .nav__slide--1").addClass("nav-active"),$(document).on("mousedown touchstart","#ESHomePage section.banner .slide",function(a){if(p)return;let b=+$(this).attr("data-target"),c=a.pageX||a.originalEvent.touches[0].pageX;j.removeClass("animation"),$(document).on("mousemove touchmove",function(a){let d=a.pageX||a.originalEvent.touches[0].pageX;q=c-d;1===b&&0>q||b===s&&0<q||(j.css({transform:"translate3d(-"+(100*(o-1)+q/30)+"%, 0, 0)"}),j.find("#ESHomePage section.banner .slide__darkbg").css({transform:"translate3d("+(50*(o-1)+q/60)+"%, 0, 0)"}),j.find("#ESHomePage section.banner .slide__letter").css({transform:"translate3d("+q/60+"vw, 0, 0)"}),j.find("#ESHomePage section.banner .slide__text").css({transform:"translate3d("+q/15+"px, 0, 0)"}))})}),$(document).on("mouseup touchend",function(){$(document).off("mousemove touchmove");p||(q>=n?f():q<=-n?g():h())}),$(document).on("click","#ESHomePage section.banner .nav__slide:not(.nav-active)",function(){let a=+$(this).attr("data-target");b(a),o=a,d(1)}),$(document).on("click","#ESHomePage section.banner .side-nav",function(){let a=$(this).attr("data-target");"right"===a&&f(),"left"===a&&g()}),$(document).on("keydown",function(a){39===a.which&&f(),37===a.which&&g()}),$(document).on("mousewheel DOMMouseScroll",function(a){if(!p){let b=a.originalEvent.wheelDelta;(0<b||0>a.originalEvent.detail)&&g(),(0>b||0<a.originalEvent.detail)&&f()}})});
